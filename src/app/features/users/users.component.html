<div class="flex justify-end px-4 py-2">
  <button nz-button nzType="primary" [routerLink]="['/dashboard/users/add']">
    افزودن کاربر جدید
  </button>
</div>
<nz-table
  #basicTable
  [nzData]="users()"
  class="p-2"
  nzShowSizeChanger
  [nzLoading]="pending()"
  (nzPageSizeChange)="onPageSizeChange($event)"
  [nzPageSize]="pageSize()"
  [nzPageIndex]="pageIndex()"
  [nzTotal]="totalNumber()"
  [nzFrontPagination]="false"
  (nzPageIndexChange)="onPageIndexChange($event)"
>
  <thead>
    <tr>
      <th></th>
      <th>نام کاربری</th>
      <th>نام و نام خانوادگی</th>
      <th>شماره تماس</th>
      <th>عملیات</th>
    </tr>
  </thead>
  <tbody>
    @for (data of basicTable.data; track data.id) {
    <tr>
      <td>{{ data.profileImage }}</td>
      <td>{{ data.username }}</td>
      <td>{{ data.displayName }}</td>
      <td>{{ data.mobileNumber }}</td>
      <td>
        <button class="mx-2" nz-button nzType="primary" [routerLink]="['/dashboard/users/access', data.id]">
          مدیریت دسترسی‌ها
        </button>
        <button class="px-2" [routerLink]="['/dashboard/users/edit', data.id]">
          <nz-icon
            class="text-blue-500"
            nzType="edit"
            nzTheme="outline"
          ></nz-icon>
        </button>
        <button class="px-2" (click)="deleteUser(data.id!)">
          <nz-icon
            class="text-red-500"
            nzType="delete"
            nzTheme="outline"
          ></nz-icon>
        </button>
      </td>
    </tr>
    }
  </tbody>
</nz-table>
